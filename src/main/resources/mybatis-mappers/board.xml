<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.board.webmvc.service.board.BoardMapper">

    <select id="postList" resultType="com.board.webmvc.service.board.PostVO">
        SELECT title, tbu.nickname, tbp.regdate, hit FROM tb_post tbp LEFT JOIN tb_user tbu ON tbp.user_idx = tbu.idx
    </select>

    <insert id="postWrite" parameterType="com.board.webmvc.service.board.PostVO">
        INSERT INTO tb_post(board_idx, user_idx, title, content, regdate, hit) VALUES (#{boardIdx}, #{userIdx}, #{title}, #{content}, now(), 0)
    </insert>
</mapper>